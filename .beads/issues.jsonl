{"id":"story-0fe","title":"Test full illustration pipeline with Nano Banana Pro","description":"Run end-to-end test generating an illustrated story. Verify character consistency across all pages.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:13:18.248827-08:00","updated_at":"2025-12-16T11:27:56.494286-08:00","closed_at":"2025-12-16T11:27:56.494286-08:00","dependencies":[{"issue_id":"story-0fe","depends_on_id":"story-9on","type":"blocks","created_at":"2025-12-16T11:13:53.217755-08:00","created_by":"kavinstewart"}]}
{"id":"story-0mf","title":"Flatten modules/qa_metrics/ into modules/","description":"Move vlm_judge.py and vqa_scorer.py from modules/qa_metrics/ directly into modules/. Delete the qa_metrics/ subdirectory. Update all imports accordingly. Premature nesting hurts discoverability - keep flat until 10+ related files.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T08:30:24.810218-08:00","updated_at":"2025-12-17T09:04:10.045925-08:00","closed_at":"2025-12-17T09:04:10.045925-08:00","dependencies":[{"issue_id":"story-0mf","depends_on_id":"story-849","type":"blocks","created_at":"2025-12-17T08:31:25.162446-08:00","created_by":"kavinstewart"}]}
{"id":"story-1f5","title":"Add Nano Banana Pro config to config.py","description":"Add get_image_lm() function returning gemini-3-pro-image-preview model. Add GOOGLE_API_KEY to env loading.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:12:51.768234-08:00","updated_at":"2025-12-16T11:19:08.427556-08:00","closed_at":"2025-12-16T11:19:08.427556-08:00"}
{"id":"story-1o4","title":"Create DSPy modules","description":"Implement OutlineGenerator, PageGenerator, and QualityJudge modules in src/modules/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:37:10.505417-08:00","updated_at":"2025-12-11T09:46:02.978276-08:00","closed_at":"2025-12-11T09:46:02.978276-08:00","dependencies":[{"issue_id":"story-1o4","depends_on_id":"story-ffw","type":"blocks","created_at":"2025-12-11T09:38:38.733875-08:00","created_by":"kavinstewart"},{"issue_id":"story-1o4","depends_on_id":"story-ggb","type":"blocks","created_at":"2025-12-11T09:39:00.658325-08:00","created_by":"kavinstewart"},{"issue_id":"story-1o4","depends_on_id":"story-5d3","type":"blocks","created_at":"2025-12-11T09:39:05.810296-08:00","created_by":"kavinstewart"}]}
{"id":"story-24w","title":"Test QA pipeline end-to-end","description":"Generate illustrated story with QA enabled, verify regeneration works","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:48:40.410193-08:00","updated_at":"2025-12-16T12:18:01.914429-08:00","closed_at":"2025-12-16T12:18:01.914429-08:00","dependencies":[{"issue_id":"story-24w","depends_on_id":"story-cz1","type":"blocks","created_at":"2025-12-16T11:49:17.501138-08:00","created_by":"kavinstewart"}]}
{"id":"story-2k0","title":"Split config.py into focused modules","description":"Split the monolithic config.py into separate concerns:\n- src/config/llm.py - LLM providers, fallbacks, configure_dspy()\n- src/config/story.py - Story constants (page count, word limits, etc.)\n- src/config/image.py - Nano Banana/Gemini image generation setup\nCreate src/config/__init__.py with convenient re-exports.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T08:30:37.740627-08:00","updated_at":"2025-12-17T09:05:24.386858-08:00","closed_at":"2025-12-17T09:05:24.386858-08:00","dependencies":[{"issue_id":"story-2k0","depends_on_id":"story-849","type":"blocks","created_at":"2025-12-17T08:31:12.377791-08:00","created_by":"kavinstewart"}]}
{"id":"story-3i2","title":"Add CharacterBible to story outline","description":"Extend StoryOutlineSignature to output structured character definitions with locked visual attributes (face, hair, clothing, colors, age, style tags) for each character","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:35:00.58306-08:00","updated_at":"2025-12-13T10:38:12.346119-08:00","closed_at":"2025-12-13T10:38:12.346119-08:00"}
{"id":"story-3xy","title":"Add executable examples directory","description":"Create examples/ directory with 2-3 working examples showing real outputs:\n- examples/simple_story/ - Basic story without illustrations\n- examples/illustrated_story/ - Story with character sheets and page illustrations\nInclude the generated JSON/text outputs and a README explaining each example. Real outputs are better than documentation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T08:30:44.207889-08:00","updated_at":"2025-12-17T09:09:41.483526-08:00","closed_at":"2025-12-17T09:09:41.483526-08:00"}
{"id":"story-42u","title":"Create VLMJudge wrapper module","description":"Use Gemini 2.0 Flash for detailed checks: text-free, character consistency, composition","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:48:21.023852-08:00","updated_at":"2025-12-16T12:06:56.513034-08:00","closed_at":"2025-12-16T12:06:56.513034-08:00","dependencies":[{"issue_id":"story-42u","depends_on_id":"story-j79","type":"blocks","created_at":"2025-12-16T11:48:56.874545-08:00","created_by":"kavinstewart"}]}
{"id":"story-48g","title":"Remove global state from LM configuration","description":"Refactor modules to accept LM explicitly rather than relying on global configure_dspy() state:\n1. Add optional lm parameter to module __init__ methods\n2. Use passed LM or fall back to get_default_lm()\n3. This enables easier testing and avoids order-of-import issues\nExample: def __init__(self, lm: dspy.LM = None): self.lm = lm or get_default_lm()","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T08:30:57.327659-08:00","updated_at":"2025-12-17T09:07:09.699839-08:00","closed_at":"2025-12-17T09:07:09.699839-08:00","dependencies":[{"issue_id":"story-48g","depends_on_id":"story-2k0","type":"blocks","created_at":"2025-12-17T08:31:18.76971-08:00","created_by":"kavinstewart"}]}
{"id":"story-4mf","title":"Create VQAScorer wrapper module","description":"Wrap t2v-metrics VQAScore for fast alignment checking","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:48:14.426541-08:00","updated_at":"2025-12-16T12:06:51.354919-08:00","closed_at":"2025-12-16T12:06:51.354919-08:00","dependencies":[{"issue_id":"story-4mf","depends_on_id":"story-j79","type":"blocks","created_at":"2025-12-16T11:48:51.726431-08:00","created_by":"kavinstewart"}]}
{"id":"story-5d3","title":"Set up DSPy configuration","description":"Create src/config.py with LM setup using load_dotenv(), dual-model architecture for inference and reflection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:37:36.731065-08:00","updated_at":"2025-12-11T09:43:00.025853-08:00","closed_at":"2025-12-11T09:43:00.025853-08:00","dependencies":[{"issue_id":"story-5d3","depends_on_id":"story-ffw","type":"blocks","created_at":"2025-12-11T09:38:49.029857-08:00","created_by":"kavinstewart"}]}
{"id":"story-68t","title":"Add illustration_prompt to page writer","description":"Extend PageWriterSignature to output illustration_prompt field describing scene visually: character poses, expressions, environment, composition","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:35:13.666814-08:00","updated_at":"2025-12-13T10:40:55.290197-08:00","closed_at":"2025-12-13T10:40:55.290197-08:00","dependencies":[{"issue_id":"story-68t","depends_on_id":"story-3i2","type":"blocks","created_at":"2025-12-13T10:35:47.101589-08:00","created_by":"kavinstewart"}]}
{"id":"story-69g","title":"Create main ImageQA module","description":"Hybrid QA with fast pass (VQAScore) + detailed pass (VLM) + regeneration logic","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:48:27.49157-08:00","updated_at":"2025-12-16T12:07:59.667996-08:00","closed_at":"2025-12-16T12:07:59.667996-08:00","dependencies":[{"issue_id":"story-69g","depends_on_id":"story-4mf","type":"blocks","created_at":"2025-12-16T11:49:02.027641-08:00","created_by":"kavinstewart"},{"issue_id":"story-69g","depends_on_id":"story-42u","type":"blocks","created_at":"2025-12-16T11:49:07.185185-08:00","created_by":"kavinstewart"}]}
{"id":"story-7bk","title":"Add Makefile for common commands","description":"Create a Makefile (or justfile) documenting common commands:\n- make run - Generate a story with default goal\n- make debug - Run debug script\n- make optimize - Run GEPA optimization\n- make test - Run tests (when added)\nThis serves as executable documentation and clarifies entry points.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T08:30:50.747604-08:00","updated_at":"2025-12-17T08:45:45.504003-08:00","closed_at":"2025-12-17T08:45:45.504003-08:00"}
{"id":"story-849","title":"Centralize dataclasses into types.py","description":"Create src/types.py containing all domain dataclasses currently scattered across modules: StoryOutline, CharacterBible, StoryPage, QualityJudgment, GeneratedStory, ImageQAResult, RegenerationRequest, StyleDefinition, CharacterReferenceSheet, StoryReferenceSheets. Update all imports. This makes data flow obvious at a glance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T08:30:31.275337-08:00","updated_at":"2025-12-17T08:45:45.502475-08:00","closed_at":"2025-12-17T08:45:45.502475-08:00"}
{"id":"story-9on","title":"Update story_generator to use new illustration modules","description":"Update generate_illustrated() method in story_generator.py to work with the rewritten Nano Banana Pro modules.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:13:11.757318-08:00","updated_at":"2025-12-16T11:21:28.215014-08:00","closed_at":"2025-12-16T11:21:28.215014-08:00","dependencies":[{"issue_id":"story-9on","depends_on_id":"story-bbl","type":"blocks","created_at":"2025-12-16T11:13:42.848033-08:00","created_by":"kavinstewart"},{"issue_id":"story-9on","depends_on_id":"story-z6r","type":"blocks","created_at":"2025-12-16T11:13:48.011355-08:00","created_by":"kavinstewart"}]}
{"id":"story-akf","title":"Remove VQAScorer and related code","description":"VQAScorer is not being used. Remove:\n- src/modules/vqa_scorer.py\n- VQAScorer/FastPassResult exports from modules/__init__.py\n- VQAScorer imports and fallback code from image_qa.py\n- Any t2v_metrics dependency references","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T09:17:29.709745-08:00","updated_at":"2025-12-17T09:27:54.33325-08:00","closed_at":"2025-12-17T09:27:54.33325-08:00"}
{"id":"story-bbl","title":"Rewrite character_sheet_generator for Nano Banana Pro","description":"Replace gpt-image-1 turnaround sheet generation with Nano Banana Pro portrait generation. Generate 1-2 simple reference portraits per character instead of 4-view turnarounds.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:12:58.341778-08:00","updated_at":"2025-12-16T11:19:55.421476-08:00","closed_at":"2025-12-16T11:19:55.421476-08:00","dependencies":[{"issue_id":"story-bbl","depends_on_id":"story-1f5","type":"blocks","created_at":"2025-12-16T11:13:32.524583-08:00","created_by":"kavinstewart"}]}
{"id":"story-bds","title":"Remove empty placeholder directories","description":"Remove data/ and optimized/ directories (just contain .gitkeep files). These can be recreated when actually needed for GEPA optimization.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T09:17:42.99888-08:00","updated_at":"2025-12-17T09:27:54.335084-08:00","closed_at":"2025-12-17T09:27:54.335084-08:00"}
{"id":"story-cz1","title":"Integrate QA into PageIllustrator","description":"Add illustrate_page_with_qa method with retry loop","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:48:33.92679-08:00","updated_at":"2025-12-16T12:11:05.445037-08:00","closed_at":"2025-12-16T12:11:05.445037-08:00","dependencies":[{"issue_id":"story-cz1","depends_on_id":"story-69g","type":"blocks","created_at":"2025-12-16T11:49:12.337444-08:00","created_by":"kavinstewart"}]}
{"id":"story-eub","title":"Complete signatures/__init__.py exports","description":"Add missing signature exports:\n- CharacterBibleSignature\n- IllustrationStyleSignature\n- PageCritiqueSignature\n- PageRevisionSignature\nThese are used by outline_generator.py and page_generator.py but not exported from the package.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T09:17:56.206241-08:00","updated_at":"2025-12-17T09:27:54.335721-08:00","closed_at":"2025-12-17T09:27:54.335721-08:00"}
{"id":"story-ffw","title":"Set up project directory structure","description":"Create src/signatures, src/modules, src/programs, src/metrics, src/optimization, data/, optimized/, scripts/ directories with __init__.py files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:36:57.453455-08:00","updated_at":"2025-12-11T09:42:11.973357-08:00","closed_at":"2025-12-11T09:42:11.973357-08:00"}
{"id":"story-fo9","title":"Update story output with illustrations","description":"Modify story output to include both text and illustration for each page. Export as markdown with embedded images or structured format for layout tools.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:35:26.736675-08:00","updated_at":"2025-12-13T10:43:23.879588-08:00","closed_at":"2025-12-13T10:43:23.879588-08:00","dependencies":[{"issue_id":"story-fo9","depends_on_id":"story-ymv","type":"blocks","created_at":"2025-12-13T10:36:02.568743-08:00","created_by":"kavinstewart"}]}
{"id":"story-ggb","title":"Create DSPy signatures","description":"Define StoryOutlineSignature, PageWriterSignature, and StoryJudgeSignature in src/signatures/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:37:03.992924-08:00","updated_at":"2025-12-11T09:43:45.865396-08:00","closed_at":"2025-12-11T09:43:45.865396-08:00","dependencies":[{"issue_id":"story-ggb","depends_on_id":"story-ffw","type":"blocks","created_at":"2025-12-11T09:38:33.581987-08:00","created_by":"kavinstewart"}]}
{"id":"story-i1l","title":"Create story generator program","description":"Compose modules into StoryGenerator program with quality loop in src/programs/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:37:17.083057-08:00","updated_at":"2025-12-11T09:46:51.513857-08:00","closed_at":"2025-12-11T09:46:51.513857-08:00","dependencies":[{"issue_id":"story-i1l","depends_on_id":"story-1o4","type":"blocks","created_at":"2025-12-11T09:39:12.318016-08:00","created_by":"kavinstewart"},{"issue_id":"story-i1l","depends_on_id":"story-s7t","type":"blocks","created_at":"2025-12-11T09:39:17.468885-08:00","created_by":"kavinstewart"}]}
{"id":"story-j79","title":"Add QA dependencies (t2v-metrics, torch)","description":"Add t2v-metrics for VQAScore and torch for model inference","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:48:07.941828-08:00","updated_at":"2025-12-16T12:05:00.588758-08:00","closed_at":"2025-12-16T12:05:00.588758-08:00"}
{"id":"story-kys","title":"Create CLI entry point","description":"Build scripts/generate_story.py with argument parsing for goal input and story output","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:37:30.244262-08:00","updated_at":"2025-12-11T13:56:43.962501-08:00","closed_at":"2025-12-11T13:56:43.962501-08:00","dependencies":[{"issue_id":"story-kys","depends_on_id":"story-ffw","type":"blocks","created_at":"2025-12-11T09:38:54.17516-08:00","created_by":"kavinstewart"},{"issue_id":"story-kys","depends_on_id":"story-i1l","type":"blocks","created_at":"2025-12-11T09:39:23.938922-08:00","created_by":"kavinstewart"}]}
{"id":"story-rtv","title":"Create character reference sheet generator","description":"New module that generates 4-view turnaround sheets (front, side, back, 3/4) for each character using gpt-image-1. Store images with outline.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:35:07.147141-08:00","updated_at":"2025-12-13T10:39:12.940839-08:00","closed_at":"2025-12-13T10:39:12.940839-08:00","dependencies":[{"issue_id":"story-rtv","depends_on_id":"story-3i2","type":"blocks","created_at":"2025-12-13T10:35:41.946458-08:00","created_by":"kavinstewart"}]}
{"id":"story-s7t","title":"Create GEPA-compatible metrics","description":"Build feedback-rich metrics for outline quality, page quality, and overall story quality in src/metrics/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T09:37:23.641861-08:00","updated_at":"2025-12-11T09:45:03.184083-08:00","closed_at":"2025-12-11T09:45:03.184083-08:00","dependencies":[{"issue_id":"story-s7t","depends_on_id":"story-ffw","type":"blocks","created_at":"2025-12-11T09:38:43.885272-08:00","created_by":"kavinstewart"}]}
{"id":"story-uc4","title":"Clean stale __pycache__ files","description":"Remove stale bytecode files, particularly src/__pycache__/config.cpython-311.pyc from the old config.py. Run: find . -type d -name __pycache__ -exec rm -rf {} +","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T09:17:36.335506-08:00","updated_at":"2025-12-17T09:27:54.33602-08:00","closed_at":"2025-12-17T09:27:54.33602-08:00","dependencies":[{"issue_id":"story-uc4","depends_on_id":"story-akf","type":"blocks","created_at":"2025-12-17T09:18:23.010837-08:00","created_by":"kavinstewart"}]}
{"id":"story-unp","title":"Remove pointless __init__.py files","description":"Remove near-empty __init__.py files that serve no purpose:\n- scripts/__init__.py (just a comment, scripts/ not imported as package)\n- src/optimization/__init__.py (just a comment, run as module not imported)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T09:17:49.522549-08:00","updated_at":"2025-12-17T09:27:54.335411-08:00","closed_at":"2025-12-17T09:27:54.335411-08:00"}
{"id":"story-y54","title":"Remove unused imports in story_generator.py","description":"Remove STORY_CONSTANTS and get_default_lm imports - neither is used in the file","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T09:17:23.056585-08:00","updated_at":"2025-12-17T09:27:54.334735-08:00","closed_at":"2025-12-17T09:27:54.334735-08:00"}
{"id":"story-yhz","title":"Children's Story Generator MVP","description":"Build an AI agent that generates high-quality children's picture books from brief goals/themes using DSPy and GEPA optimization. Pipeline: Outline → Pages → Quality Judge → Iterate","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-11T09:36:40.107814-08:00","updated_at":"2025-12-11T13:56:50.445036-08:00","closed_at":"2025-12-11T13:56:50.445036-08:00"}
{"id":"story-ymv","title":"Create page illustrator module","description":"New module using gpt-image-1 images.edit() with character reference images + illustration prompt + locked style params to generate page illustrations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T10:35:20.18429-08:00","updated_at":"2025-12-13T10:41:54.62459-08:00","closed_at":"2025-12-13T10:41:54.62459-08:00","dependencies":[{"issue_id":"story-ymv","depends_on_id":"story-rtv","type":"blocks","created_at":"2025-12-13T10:35:52.25803-08:00","created_by":"kavinstewart"},{"issue_id":"story-ymv","depends_on_id":"story-68t","type":"blocks","created_at":"2025-12-13T10:35:57.423501-08:00","created_by":"kavinstewart"}]}
{"id":"story-z6r","title":"Rewrite page_illustrator for Nano Banana Pro","description":"Replace gpt-image-1 edit endpoint with Nano Banana Pro multimodal prompts. Pass all character reference images (up to 14) plus scene description in single generate_content call.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T11:13:05.054272-08:00","updated_at":"2025-12-16T11:20:48.849348-08:00","closed_at":"2025-12-16T11:20:48.849348-08:00","dependencies":[{"issue_id":"story-z6r","depends_on_id":"story-1f5","type":"blocks","created_at":"2025-12-16T11:13:37.686089-08:00","created_by":"kavinstewart"}]}
